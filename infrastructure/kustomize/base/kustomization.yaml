apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: orochi-cloud-base

namespace: orochi-cloud

# Common labels applied to all resources
commonLabels:
  app.kubernetes.io/name: orochi-cloud
  app.kubernetes.io/part-of: orochi-cloud
  app.kubernetes.io/managed-by: kustomize

# Resources included in base
resources:
  - namespace.yaml
  - control-plane/deployment.yaml
  - control-plane/service.yaml
  - control-plane/configmap.yaml
  - dashboard/deployment.yaml
  - dashboard/service.yaml
  - autoscaler/deployment.yaml
  - autoscaler/service.yaml
  - provisioner/deployment.yaml
  - provisioner/service.yaml
  - provisioner/rbac.yaml

# ConfigMap generator (for environment-specific configs)
configMapGenerator: []

# Secret generator (for environment-specific secrets)
secretGenerator: []

# Images to be customized per environment
images:
  - name: ghcr.io/orochi-db/control-plane
    newTag: "1.0.0"
  - name: ghcr.io/orochi-db/dashboard
    newTag: "1.0.0"
  - name: ghcr.io/orochi-db/autoscaler
    newTag: "1.0.0"
  - name: ghcr.io/orochi-db/provisioner
    newTag: "1.0.0"
